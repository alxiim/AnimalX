"use strict";(self.webpackChunkanimalx=self.webpackChunkanimalx||[]).push([[640],{9640:(E,_,a)=>{a.r(_),a.d(_,{CartModule:()=>S});var i=a(8583),T=a(4466),s=a(7396),f=a(3190),Z=a(8002),t=a(639),g=a(1556),C=a(31),A=a(4242);function h(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).updateCart(-1)}),t._uU(1,"-"),t.qZA()}}function x(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).updateCart(1)}),t._uU(1,"+"),t.qZA()}}function b(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return c.updateCart(-c.item.amount)}),t._uU(1,"\u2715"),t.qZA()}}function q(e,o){if(1&e&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.YNc(10,h,2,0,"button",8),t.TgZ(11,"span",9),t._uU(12),t.qZA(),t.YNc(13,x,2,0,"button",8),t.qZA(),t.TgZ(14,"div",5),t._uU(15),t.ALo(16,"currency"),t.YNc(17,b,2,0,"button",8),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Q6J("src",n.item.product.images[0]?"storage/"+n.item.product.images[0]:"https://dummyimage.com/450x300/dee2e6/6c757d.jpg",t.LSH),t.xp6(3),t.Oqu(n.category.name),t.xp6(2),t.Oqu(n.item.product.name),t.xp6(2),t.Q6J("ngIf",!n.disabled),t.xp6(2),t.Oqu(n.item.amount),t.xp6(1),t.Q6J("ngIf",!n.disabled),t.xp6(2),t.hij(" ",t.xi3(16,8,n.item.product.price*n.item.amount,"EUR")," "),t.xp6(2),t.Q6J("ngIf",!n.disabled)}}let v=(()=>{class e{constructor(n,r){this._categoryService=n,this._cartService=r,this.disabled=!1}ngOnInit(){this._categoryService.get(this.item.product.categoryId).subscribe(n=>this.category=n)}updateCart(n){this._cartService.update(this.item.product.id,n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.H),t.Y36(g.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart-item-card"]],inputs:{item:"item",disabled:"disabled"},decls:1,vars:1,consts:[["class","row border-bottom",4,"ngIf"],[1,"row","border-bottom"],[1,"row","main","align-items-center"],[1,"col-2"],[1,"img-fluid","py-3",3,"src"],[1,"col"],[1,"row","text-muted"],[1,"row"],["class","btn",3,"click",4,"ngIf"],[1,"border"],[1,"btn",3,"click"]],template:function(n,r){1&n&&t.YNc(0,q,18,11,"div",0),2&n&&t.Q6J("ngIf",r.item&&r.category)},directives:[i.O5],pipes:[i.H9],styles:[""]}),e})();function y(e,o){1&e&&(t.TgZ(0,"div",6),t.TgZ(1,"p"),t._uU(2,"Uw winkelwagen is nog leeg."),t.qZA(),t.TgZ(3,"button",7),t._uU(4,"Verder winkelen"),t.qZA(),t.qZA())}function I(e,o){1&e&&t._UZ(0,"app-cart-item-card",8),2&e&&t.Q6J("item",o.$implicit)}function U(e,o){if(1&e&&(t.TgZ(0,"div",9),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"button",10),t._uU(5,"Afrekenen"),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.hij("Totaalbedrag ",t.xi3(3,1,n.total,"EUR"),"")}}function N(e,o){if(1&e&&(t.ynx(0),t.YNc(1,y,5,0,"div",3),t.YNc(2,I,1,1,"app-cart-item-card",4),t.ALo(3,"async"),t.YNc(4,U,6,4,"div",5),t.BQk()),2&e){const n=o.ngIf,r=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.length),t.xp6(1),t.Q6J("ngForOf",t.lcZ(3,3,r.cart$)),t.xp6(2),t.Q6J("ngIf",n.length)}}function k(e,o){1&e&&(t.TgZ(0,"div",6),t._UZ(1,"div",11),t.qZA())}let J=(()=>{class e{constructor(n,r){this._cartService=n,this._productService=r,this.cart$=this._cartService.cart$.pipe((0,f.w)(c=>{const m=c.map(l=>l.productId);return this._productService.query({"productIds[]":m}).pipe((0,Z.U)(l=>c.map(u=>({product:l.find(d=>d.id==u.productId),amount:u.amount})).filter(u=>void 0!==u.product)))})),this.total=0}ngOnInit(){this.cart$.subscribe(n=>{let r=0;n.forEach(c=>{r+=c.amount*c.product.price}),this.total=r})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.N),t.Y36(C.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart-page"]],decls:7,vars:4,consts:[[1,"container","my-5"],[4,"ngIf","ngIfElse"],["loader",""],["class","text-center",4,"ngIf"],[3,"item",4,"ngFor","ngForOf"],["class","text-end",4,"ngIf"],[1,"text-center"],["routerLink","/products",1,"btn","btn-primary"],[3,"item"],[1,"text-end"],["routerLink","checkout",1,"btn","btn-primary"],["role","status",1,"spinner-border","text-primary"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._uU(2,"Winkelwagen"),t.qZA(),t.YNc(3,N,5,5,"ng-container",1),t.ALo(4,"async"),t.qZA(),t.YNc(5,k,2,0,"ng-template",null,2,t.W1O)),2&n){const c=t.MAs(6);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,r.cart$))("ngIfElse",c)}},directives:[i.O5,i.sg,s.rH,v],pipes:[i.Ov,i.H9],styles:[""]}),e})();var p=a(665);function Y(e,o){1&e&&t._UZ(0,"app-cart-item-card",26),2&e&&t.Q6J("item",o.$implicit)("disabled",!0)}function w(e,o){if(1&e&&(t.TgZ(0,"div",21),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.hij("Totaalbedrag ",t.xi3(3,1,n.total,"EUR"),"")}}function P(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Y,1,2,"app-cart-item-card",24),t.ALo(2,"async"),t.YNc(3,w,4,4,"div",25),t.BQk()),2&e){const n=o.ngIf,r=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,r.cart$)),t.xp6(2),t.Q6J("ngIf",n.length)}}function Q(e,o){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"div",28),t.qZA())}const F=[{path:"",component:J},{path:"checkout",component:(()=>{class e{constructor(n,r,c){this._cartService=n,this._productService=r,this._fb=c,this.cart$=this._cartService.cart$.pipe((0,f.w)(m=>{const l=m.map(u=>u.productId);return this._productService.query({"productIds[]":l}).pipe((0,Z.U)(u=>m.map(d=>({product:u.find(M=>M.id==d.productId),amount:d.amount})).filter(d=>void 0!==d.product)))})),this.total=0,this.contactForm=this._fb.group({firstName:null,lastName:null,street:null,postalCode:null,city:null})}ngOnInit(){this.cart$.subscribe(n=>{let r=0;n.forEach(c=>{r+=c.amount*c.product.price}),this.total=r})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.N),t.Y36(C.M),t.Y36(p.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-checkout-page"]],decls:45,vars:5,consts:[[1,"container","my-5"],[1,"row"],[1,"col-7"],[1,"mb-3"],[3,"formGroup"],[1,"col-6"],[1,"form-floating","mb-3"],["type","text","id","firstName","formControlName","firstName","placeholder","Guccio","autocomplete","given-name","required","",1,"form-control"],["for","firstName"],["type","text","id","lastName","formControlName","lastName","placeholder","Gucci","autocomplete","family-name","required","",1,"form-control"],["for","lastName"],[1,"col-4"],["type","text","id","street","formControlName","street","placeholder","P.C. Hooftstraat 91","required","",1,"form-control"],["for","street"],["type","text","id","postalCode","formControlName","postalCode","placeholder","1071 BR","required","",1,"form-control"],["for","postalCode"],["type","text","id","city","formControlName","city","placeholder","Amsterdam","required","",1,"form-control"],["for","city"],[1,"btn","btn-primary"],[1,"col-5"],[4,"ngIf","ngIfElse"],[1,"text-end"],["routerLink","/cart",1,"btn","btn-sm","btn-outline-secondary"],["loader",""],[3,"item","disabled",4,"ngFor","ngForOf"],["class","text-end",4,"ngIf"],[3,"item","disabled"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Aflever- en factuurgegevens"),t.qZA(),t.TgZ(5,"form",4),t.TgZ(6,"div",1),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.TgZ(10,"label",8),t._uU(11,"Voornaam"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",5),t.TgZ(13,"div",6),t._UZ(14,"input",9),t.TgZ(15,"label",10),t._uU(16,"Achternaam"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",1),t.TgZ(18,"div",11),t.TgZ(19,"div",6),t._UZ(20,"input",12),t.TgZ(21,"label",13),t._uU(22,"Straat"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",11),t.TgZ(24,"div",6),t._UZ(25,"input",14),t.TgZ(26,"label",15),t._uU(27,"Postcode"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",11),t.TgZ(29,"div",6),t._UZ(30,"input",16),t.TgZ(31,"label",17),t._uU(32,"Stad"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"button",18),t._uU(34,"Bestelling plaatsen"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",19),t.TgZ(36,"h3",3),t._uU(37,"Controleer bestelling"),t.qZA(),t.YNc(38,P,4,4,"ng-container",20),t.ALo(39,"async"),t.TgZ(40,"div",21),t.TgZ(41,"button",22),t._uU(42,"Terug naar winkelwagen"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(43,Q,2,0,"ng-template",null,23,t.W1O)),2&n){const c=t.MAs(44);t.xp6(5),t.Q6J("formGroup",r.contactForm),t.xp6(33),t.Q6J("ngIf",t.lcZ(39,3,r.cart$))("ngIfElse",c)}},directives:[p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,p.Q7,i.O5,s.rH,i.sg,v],pipes:[i.Ov,i.H9],styles:[""]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.Bz.forChild(F)],s.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[i.ez,O,T.m,p.UX]]}),e})()}}]);