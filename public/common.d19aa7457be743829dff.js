"use strict";(self.webpackChunkanimalx=self.webpackChunkanimalx||[]).push([[592],{1556:(v,u,s)=>{s.d(u,{N:()=>l});var d=s(6215),o=s(639),p=s(822),h=s(8951);let l=(()=>{class e{constructor(t,a){this._api=t,this._authService=a,this.cart$=new d.X([])}get cart(){const t=localStorage.getItem("animalx_cart");return t?JSON.parse(t):[]}set cart(t){localStorage.setItem("animalx_cart",JSON.stringify(t)),this.cart$.next(t)}add(t,a){const r=this.cart,n=r.findIndex(i=>i.productId===t);-1!==n?r[n].amount+=a:r.push({productId:t,amount:a}),this.cart=r}remove(t,a){let r=this.cart;const n=r.findIndex(i=>i.productId===t);if(-1!==n){const i=r[n].amount-a;i<1?r=r.splice(n,1):r[n].amount=i}this.cart=r}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(p.s),o.LFG(h.e))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},31:(v,u,s)=>{s.d(u,{M:()=>l});var d=s(8002);class o{constructor(c,t,a,r,n,i,_){this.id=c,this.name=t,this.categoryId=a,this.description=r,this.price=n,this.country=i,this.color=_}static adapt(c){return new o(c.id,c.name,c.category_id,c.description,c.price,c.country,c.color)}}var p=s(639),h=s(822);let l=(()=>{class e{constructor(t){this._api=t}query(t){return this._api.get("/products",t).pipe((0,d.U)(a=>a.data.map(r=>o.adapt(r))))}get(t){return this._api.get("/products/"+t.toString()).pipe((0,d.U)(a=>o.adapt(a.data)))}create(t){return this._api.post("/products",t).pipe((0,d.U)(a=>o.adapt(a.data)))}update(t,a){return this._api.patch("/products/"+t.toString(),a).pipe((0,d.U)(r=>o.adapt(r.data)))}delete(t){return this._api.delete("/products/"+t.toString())}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(h.s))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);