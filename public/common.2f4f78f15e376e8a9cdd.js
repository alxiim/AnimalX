"use strict";(self.webpackChunkanimalx=self.webpackChunkanimalx||[]).push([[592],{2838:(v,u,a)=>{a.d(u,{N:()=>l});var t=a(8002);class i{constructor(n,r,e){this.id=n,this.date=r,this.items=e}static adapt(n){return new i(n.id,new Date(n.created_at),n.products.map(r=>({product:Object.assign({},r),amount:r.pivot.amount})))}}var p=a(7404),d=a(639),_=a(822),m=a(1841);let l=(()=>{class c{constructor(r,e){this._api=r,this._http=e}query(){return this._api.get("/orders").pipe((0,t.U)(r=>r.data.map(e=>i.adapt(e))))}create(r){return this._api.post("/orders",{products:r.products.map(e=>(0,p.b)(e))}).pipe((0,t.U)(e=>i.adapt(e.data)))}}return c.\u0275fac=function(r){return new(r||c)(d.LFG(_.s),d.LFG(m.eN))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},31:(v,u,a)=>{a.d(u,{M:()=>l});var t=a(8002);class i{constructor(n,r,e,o,s,g,C,h){this.id=n,this.name=r,this.categoryId=e,this.description=o,this.price=s,this.country=g,this.color=C,this.images=h}static adapt(n){return new i(n.id,n.name,n.category_id,n.description,n.price,n.country,n.color,n.images.map(r=>r.filename))}}var p=a(2340),d=a(639),_=a(822),m=a(1841);let l=(()=>{class c{constructor(r,e){this._api=r,this._http=e}query(r){return this._api.get("/products",r).pipe((0,t.U)(e=>e.data.map(o=>i.adapt(o))))}get(r){return this._api.get("/products/"+r.toString()).pipe((0,t.U)(e=>i.adapt(e.data)))}create(r){return this._api.post(p.N.apiUrl+"/products",r).pipe((0,t.U)(e=>i.adapt(e.data)))}update(r,e){return this._api.patch("/products/"+r.toString(),e).pipe((0,t.U)(o=>i.adapt(o.data)))}delete(r){return this._api.delete("/products/"+r.toString())}}return c.\u0275fac=function(r){return new(r||c)(d.LFG(_.s),d.LFG(m.eN))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},4149:(v,u,a)=>{a.d(u,{R:()=>n});var t=a(639),i=a(4242),p=a(1556),d=a(8583);function _(r,e){if(1&r){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).updateCart(-1)}),t._uU(1,"-"),t.qZA()}}function m(r,e){if(1&r){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).updateCart(1)}),t._uU(1,"+"),t.qZA()}}function l(r,e){if(1&r){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(o);const g=t.oxw(2);return g.updateCart(-g.item.amount)}),t._uU(1,"\u2715"),t.qZA()}}function c(r,e){if(1&r&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.YNc(10,_,2,0,"button",8),t.TgZ(11,"span",9),t._uU(12),t.qZA(),t.YNc(13,m,2,0,"button",8),t.qZA(),t.TgZ(14,"div",5),t._uU(15),t.ALo(16,"currency"),t.YNc(17,l,2,0,"button",8),t.qZA(),t.qZA(),t.qZA()),2&r){const o=t.oxw();t.xp6(3),t.Q6J("src",o.item.product.images[0]?"storage/"+o.item.product.images[0]:"https://dummyimage.com/450x300/dee2e6/6c757d.jpg",t.LSH),t.xp6(3),t.Oqu(o.category.name),t.xp6(2),t.Oqu(o.item.product.name),t.xp6(2),t.Q6J("ngIf",!o.disabled),t.xp6(2),t.Oqu(o.item.amount),t.xp6(1),t.Q6J("ngIf",!o.disabled),t.xp6(2),t.hij(" ",t.xi3(16,8,o.item.product.price*o.item.amount,"EUR")," "),t.xp6(2),t.Q6J("ngIf",!o.disabled)}}let n=(()=>{class r{constructor(o,s){this._categoryService=o,this._cartService=s,this.disabled=!1}ngOnInit(){this._categoryService.get(this.item.product.categoryId).subscribe(o=>this.category=o)}updateCart(o){this._cartService.update(this.item.product.id,o)}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(i.H),t.Y36(p.N))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart-item-card"]],inputs:{item:"item",disabled:"disabled"},decls:1,vars:1,consts:[["class","row border-bottom",4,"ngIf"],[1,"row","border-bottom"],[1,"row","main","align-items-center"],[1,"col-2"],[1,"img-fluid","py-3",3,"src"],[1,"col"],[1,"row","text-muted"],[1,"row"],["class","btn",3,"click",4,"ngIf"],[1,"border"],[1,"btn",3,"click"]],template:function(o,s){1&o&&t.YNc(0,c,18,11,"div",0),2&o&&t.Q6J("ngIf",s.item&&s.category)},directives:[d.O5],pipes:[d.H9],styles:[""]}),r})()},3284:(v,u,a)=>{a.d(u,{Y:()=>c});var t=a(639),i=a(1556),p=a(8583),d=a(7396);const _=function(n){return["/products/",n]},m=function(n){return{"background-image":n}};function l(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"h5",5),t._uU(5),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"div",7),t._UZ(8,"div",7),t._UZ(9,"div",7),t._UZ(10,"div",7),t._UZ(11,"div",7),t.qZA(),t._uU(12),t.ALo(13,"currency"),t.qZA(),t.qZA(),t.TgZ(14,"div",8),t.TgZ(15,"div",4),t.TgZ(16,"button",9),t.NdJ("click",function(s){return t.CHM(e),t.oxw().addToCart(),s.stopPropagation()}),t._uU(17,"In Winkelwagen"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("routerLink",t.VKq(7,_,e.product.id)),t.xp6(1),t.Q6J("ngStyle",t.VKq(9,m,"url("+e.getCoverImage(e.product)+")")),t.xp6(4),t.Oqu(e.product.name),t.xp6(7),t.hij(" ",t.xi3(13,4,e.product.price,"EUR")," ")}}let c=(()=>{class n{constructor(e){this._cartService=e}ngOnInit(){}getCoverImage(e){return e.images[0]?"storage/"+e.images[0]:"https://dummyimage.com/450x300/dee2e6/6c757d.jpg"}addToCart(){this.product&&this._cartService.update(this.product.id,1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-card"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","card h-100",3,"routerLink",4,"ngIf"],[1,"card","h-100",3,"routerLink"],[1,"product-image",3,"ngStyle"],[1,"card-body","p-4"],[1,"text-center"],[1,"fw-bolder"],[1,"d-flex","justify-content-center","small","text-warning","mb-2"],[1,"bi-star-fill"],[1,"card-footer","p-4","pt-0","border-top-0","bg-transparent"],[1,"btn","btn-outline-dark","mt-auto",3,"click"]],template:function(e,o){1&e&&t.YNc(0,l,18,11,"div",0),2&e&&t.Q6J("ngIf",o.product)},directives:[p.O5,d.rH,p.PC],pipes:[p.H9],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;transition:border-color .2s ease}.card[_ngcontent-%COMP%]:hover{border-color:var(--bs-primary)}.product-image[_ngcontent-%COMP%]{padding-top:66.6%;background-size:cover;background-position:center}"]}),n})()}}]);