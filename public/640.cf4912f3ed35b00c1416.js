"use strict";(self.webpackChunkanimalx=self.webpackChunkanimalx||[]).push([[640],{9640:(E,f,i)=>{i.r(f),i.d(f,{CartModule:()=>O});var a=i(8583),h=i(4466),l=i(7396),Z=i(3190),C=i(8002),t=i(639),g=i(1556),_=i(31),T=i(4242);function A(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).updateCart(-1)}),t._uU(1,"-"),t.qZA()}}function x(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).updateCart(1)}),t._uU(1,"+"),t.qZA()}}function b(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(o);const c=t.oxw(2);return c.updateCart(-c.item.amount)}),t._uU(1,"\u2715"),t.qZA()}}function y(e,n){if(1&e&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.YNc(10,A,2,0,"button",8),t.TgZ(11,"span",9),t._uU(12),t.qZA(),t.YNc(13,x,2,0,"button",8),t.qZA(),t.TgZ(14,"div",5),t._uU(15),t.ALo(16,"currency"),t.YNc(17,b,2,0,"button",8),t.qZA(),t.qZA(),t.qZA()),2&e){const o=t.oxw();t.xp6(3),t.Q6J("src",o.item.product.images[0]?"storage/"+o.item.product.images[0]:"https://dummyimage.com/450x300/dee2e6/6c757d.jpg",t.LSH),t.xp6(3),t.Oqu(o.category.name),t.xp6(2),t.Oqu(o.item.product.name),t.xp6(2),t.Q6J("ngIf",!o.disabled),t.xp6(2),t.Oqu(o.item.amount),t.xp6(1),t.Q6J("ngIf",!o.disabled),t.xp6(2),t.hij(" ",t.xi3(16,8,o.item.product.price*o.item.amount,"EUR")," "),t.xp6(2),t.Q6J("ngIf",!o.disabled)}}let v=(()=>{class e{constructor(o,r,c){this._categoryService=o,this._cartService=r,this._productService=c,this.disabled=!1}ngOnInit(){"product"in this.item?this._categoryService.get(this.item.product.categoryId).subscribe(o=>this.category=o):this._productService.get(this.item.productId).subscribe(o=>{this.item.product=o,this._categoryService.get(this.item.product.categoryId).subscribe(r=>this.category=r)})}updateCart(o){this._cartService.update(this.item.product.id,o)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(T.H),t.Y36(g.N),t.Y36(_.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart-item-card"]],inputs:{item:"item",disabled:"disabled"},decls:1,vars:1,consts:[["class","row border-bottom",4,"ngIf"],[1,"row","border-bottom"],[1,"row","main","align-items-center"],[1,"col-2"],[1,"img-fluid","py-3",3,"src"],[1,"col"],[1,"row","text-muted"],[1,"row"],["class","btn",3,"click",4,"ngIf"],[1,"border"],[1,"btn",3,"click"]],template:function(o,r){1&o&&t.YNc(0,y,18,11,"div",0),2&o&&t.Q6J("ngIf",r.item&&r.category)},directives:[a.O5],pipes:[a.H9],styles:[""]}),e})();function q(e,n){1&e&&(t.TgZ(0,"div",6),t.TgZ(1,"p"),t._uU(2,"Uw winkelwagen is nog leeg."),t.qZA(),t.TgZ(3,"button",7),t._uU(4,"Verder winkelen"),t.qZA(),t.qZA())}function I(e,n){1&e&&t._UZ(0,"app-cart-item-card",8),2&e&&t.Q6J("item",n.$implicit)}function U(e,n){if(1&e&&(t.TgZ(0,"div",9),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"button",10),t._uU(5,"Afrekenen"),t.qZA(),t.qZA()),2&e){const o=t.oxw(2);t.xp6(2),t.hij("Totaalbedrag ",t.xi3(3,1,o.total,"EUR"),"")}}function N(e,n){if(1&e&&(t.ynx(0),t.YNc(1,q,5,0,"div",3),t.YNc(2,I,1,1,"app-cart-item-card",4),t.ALo(3,"async"),t.YNc(4,U,6,4,"div",5),t.BQk()),2&e){const o=n.ngIf,r=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.length),t.xp6(1),t.Q6J("ngForOf",t.lcZ(3,3,r.cart$)),t.xp6(2),t.Q6J("ngIf",o.length)}}function k(e,n){1&e&&(t.TgZ(0,"div",6),t._UZ(1,"div",11),t.qZA())}let J=(()=>{class e{constructor(o,r){this._cartService=o,this._productService=r,this.cart$=this._cartService.cart$.pipe((0,Z.w)(c=>{const m=c.map(s=>s.productId);return this._productService.query({"productIds[]":m}).pipe((0,C.U)(s=>c.map(p=>({product:s.find(d=>d.id==p.productId),amount:p.amount})).filter(p=>void 0!==p.product)))})),this.total=0}ngOnInit(){this.cart$.subscribe(o=>{let r=0;o.forEach(c=>{r+=c.amount*c.product.price}),this.total=r})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g.N),t.Y36(_.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart-page"]],decls:7,vars:4,consts:[[1,"container","my-5"],[4,"ngIf","ngIfElse"],["loader",""],["class","text-center",4,"ngIf"],[3,"item",4,"ngFor","ngForOf"],["class","text-end",4,"ngIf"],[1,"text-center"],["routerLink","/products",1,"btn","btn-primary"],[3,"item"],[1,"text-end"],["routerLink","checkout",1,"btn","btn-primary"],["role","status",1,"spinner-border","text-primary"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._uU(2,"Winkelwagen"),t.qZA(),t.YNc(3,N,5,5,"ng-container",1),t.ALo(4,"async"),t.qZA(),t.YNc(5,k,2,0,"ng-template",null,2,t.W1O)),2&o){const c=t.MAs(6);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,r.cart$))("ngIfElse",c)}},directives:[a.O5,a.sg,l.rH,v],pipes:[a.Ov,a.H9],styles:[""]}),e})();var u=i(665);function Y(e,n){1&e&&t._UZ(0,"app-cart-item-card",26),2&e&&t.Q6J("item",n.$implicit)("disabled",!0)}function w(e,n){if(1&e&&(t.TgZ(0,"div",21),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.qZA()),2&e){const o=t.oxw(2);t.xp6(2),t.hij("Totaalbedrag ",t.xi3(3,1,o.total,"EUR"),"")}}function P(e,n){if(1&e&&(t.ynx(0),t.YNc(1,Y,1,2,"app-cart-item-card",24),t.ALo(2,"async"),t.YNc(3,w,4,4,"div",25),t.BQk()),2&e){const o=n.ngIf,r=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,r.cart$)),t.xp6(2),t.Q6J("ngIf",o.length)}}function S(e,n){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"div",28),t.qZA())}const Q=[{path:"",component:J},{path:"checkout",component:(()=>{class e{constructor(o,r,c){this._cartService=o,this._productService=r,this._fb=c,this.cart$=this._cartService.cart$.pipe((0,Z.w)(m=>{const s=m.map(p=>p.productId);return this._productService.query({"productIds[]":s}).pipe((0,C.U)(p=>m.map(d=>({product:p.find(M=>M.id==d.productId),amount:d.amount})).filter(d=>void 0!==d.product)))})),this.total=0,this.contactForm=this._fb.group({firstName:null,lastName:null,street:null,postalCode:null,city:null})}ngOnInit(){this.cart$.subscribe(o=>{let r=0;o.forEach(c=>{r+=c.amount*c.product.price}),this.total=r})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g.N),t.Y36(_.M),t.Y36(u.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-checkout-page"]],decls:45,vars:5,consts:[[1,"container","my-5"],[1,"row"],[1,"col-7"],[1,"mb-3"],[3,"formGroup"],[1,"col-6"],[1,"form-floating","mb-3"],["type","text","id","firstName","formControlName","firstName","placeholder","Guccio","autocomplete","given-name","required","",1,"form-control"],["for","firstName"],["type","text","id","lastName","formControlName","lastName","placeholder","Gucci","autocomplete","family-name","required","",1,"form-control"],["for","lastName"],[1,"col-4"],["type","text","id","street","formControlName","street","placeholder","P.C. Hooftstraat 91","required","",1,"form-control"],["for","street"],["type","text","id","postalCode","formControlName","postalCode","placeholder","1071 BR","required","",1,"form-control"],["for","postalCode"],["type","text","id","city","formControlName","city","placeholder","Amsterdam","required","",1,"form-control"],["for","city"],[1,"btn","btn-primary"],[1,"col-5"],[4,"ngIf","ngIfElse"],[1,"text-end"],["routerLink","/cart",1,"btn","btn-sm","btn-outline-secondary"],["loader",""],[3,"item","disabled",4,"ngFor","ngForOf"],["class","text-end",4,"ngIf"],[3,"item","disabled"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Aflever- en factuurgegevens"),t.qZA(),t.TgZ(5,"form",4),t.TgZ(6,"div",1),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.TgZ(10,"label",8),t._uU(11,"Voornaam"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",5),t.TgZ(13,"div",6),t._UZ(14,"input",9),t.TgZ(15,"label",10),t._uU(16,"Achternaam"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",1),t.TgZ(18,"div",11),t.TgZ(19,"div",6),t._UZ(20,"input",12),t.TgZ(21,"label",13),t._uU(22,"Straat"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",11),t.TgZ(24,"div",6),t._UZ(25,"input",14),t.TgZ(26,"label",15),t._uU(27,"Postcode"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",11),t.TgZ(29,"div",6),t._UZ(30,"input",16),t.TgZ(31,"label",17),t._uU(32,"Stad"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"button",18),t._uU(34,"Bestelling plaatsen"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",19),t.TgZ(36,"h3",3),t._uU(37,"Controleer bestelling"),t.qZA(),t.YNc(38,P,4,4,"ng-container",20),t.ALo(39,"async"),t.TgZ(40,"div",21),t.TgZ(41,"button",22),t._uU(42,"Terug naar winkelwagen"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(43,S,2,0,"ng-template",null,23,t.W1O)),2&o){const c=t.MAs(44);t.xp6(5),t.Q6J("formGroup",r.contactForm),t.xp6(33),t.Q6J("ngIf",t.lcZ(39,3,r.cart$))("ngIfElse",c)}},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,u.Q7,a.O5,l.rH,a.sg,v],pipes:[a.Ov,a.H9],styles:[""]}),e})()}];let F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(Q)],l.Bz]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,F,h.m,u.UX]]}),e})()}}]);