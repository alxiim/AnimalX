"use strict";(self.webpackChunkanimalx=self.webpackChunkanimalx||[]).push([[592],{2838:(C,g,n)=>{n.d(g,{N:()=>v});var t=n(8002),d=n(2340);class s{constructor(e,o,r){this.id=e,this.date=o,this.items=r}static adapt(e){return new s(e.id,new Date(e.date),e.items)}}var u=n(639),_=n(822),l=n(1841);let v=(()=>{class a{constructor(o,r){this._api=o,this._http=r}query(){return this._api.get("/orders").pipe((0,t.U)(o=>o.data.map(r=>s.adapt(r))))}create(o){return this._api.post(d.N.apiUrl+"/orders",o).pipe((0,t.U)(r=>s.adapt(r.data)))}}return a.\u0275fac=function(o){return new(o||a)(u.LFG(_.s),u.LFG(l.eN))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},31:(C,g,n)=>{n.d(g,{M:()=>v});var t=n(8002);class d{constructor(e,o,r,i,c,p,m,h){this.id=e,this.name=o,this.categoryId=r,this.description=i,this.price=c,this.country=p,this.color=m,this.images=h}static adapt(e){return new d(e.id,e.name,e.category_id,e.description,e.price,e.country,e.color,e.images.map(o=>o.filename))}}var s=n(2340),u=n(639),_=n(822),l=n(1841);let v=(()=>{class a{constructor(o,r){this._api=o,this._http=r}query(o){return this._api.get("/products",o).pipe((0,t.U)(r=>r.data.map(i=>d.adapt(i))))}get(o){return this._api.get("/products/"+o.toString()).pipe((0,t.U)(r=>d.adapt(r.data)))}create(o){return this._api.post(s.N.apiUrl+"/products",o).pipe((0,t.U)(r=>d.adapt(r.data)))}update(o,r){return this._api.patch("/products/"+o.toString(),r).pipe((0,t.U)(i=>d.adapt(i.data)))}delete(o){return this._api.delete("/products/"+o.toString())}}return a.\u0275fac=function(o){return new(o||a)(u.LFG(_.s),u.LFG(l.eN))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},4149:(C,g,n)=>{n.d(g,{R:()=>o});var t=n(639),d=n(4242),s=n(1556),u=n(31),_=n(8583);function l(r,i){if(1&r){const c=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(c),t.oxw(2).updateCart(-1)}),t._uU(1,"-"),t.qZA()}}function v(r,i){if(1&r){const c=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(c),t.oxw(2).updateCart(1)}),t._uU(1,"+"),t.qZA()}}function a(r,i){if(1&r){const c=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(c);const m=t.oxw(2);return m.updateCart(-m.item.amount)}),t._uU(1,"\u2715"),t.qZA()}}function e(r,i){if(1&r&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.YNc(10,l,2,0,"button",8),t.TgZ(11,"span",9),t._uU(12),t.qZA(),t.YNc(13,v,2,0,"button",8),t.qZA(),t.TgZ(14,"div",5),t._uU(15),t.ALo(16,"currency"),t.YNc(17,a,2,0,"button",8),t.qZA(),t.qZA(),t.qZA()),2&r){const c=t.oxw();t.xp6(3),t.Q6J("src",c.item.product.images[0]?"storage/"+c.item.product.images[0]:"https://dummyimage.com/450x300/dee2e6/6c757d.jpg",t.LSH),t.xp6(3),t.Oqu(c.category.name),t.xp6(2),t.Oqu(c.item.product.name),t.xp6(2),t.Q6J("ngIf",!c.disabled),t.xp6(2),t.Oqu(c.item.amount),t.xp6(1),t.Q6J("ngIf",!c.disabled),t.xp6(2),t.hij(" ",t.xi3(16,8,c.item.product.price*c.item.amount,"EUR")," "),t.xp6(2),t.Q6J("ngIf",!c.disabled)}}let o=(()=>{class r{constructor(c,p,m){this._categoryService=c,this._cartService=p,this._productService=m,this.disabled=!1}ngOnInit(){"product"in this.item?this._categoryService.get(this.item.product.categoryId).subscribe(c=>this.category=c):this._productService.get(this.item.productId).subscribe(c=>{this.item.product=c,this._categoryService.get(this.item.product.categoryId).subscribe(p=>this.category=p)})}updateCart(c){this._cartService.update(this.item.product.id,c)}}return r.\u0275fac=function(c){return new(c||r)(t.Y36(d.H),t.Y36(s.N),t.Y36(u.M))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart-item-card"]],inputs:{item:"item",disabled:"disabled"},decls:1,vars:1,consts:[["class","row border-bottom",4,"ngIf"],[1,"row","border-bottom"],[1,"row","main","align-items-center"],[1,"col-2"],[1,"img-fluid","py-3",3,"src"],[1,"col"],[1,"row","text-muted"],[1,"row"],["class","btn",3,"click",4,"ngIf"],[1,"border"],[1,"btn",3,"click"]],template:function(c,p){1&c&&t.YNc(0,e,18,11,"div",0),2&c&&t.Q6J("ngIf",p.item&&p.category)},directives:[_.O5],pipes:[_.H9],styles:[""]}),r})()},3284:(C,g,n)=>{n.d(g,{Y:()=>a});var t=n(639),d=n(1556),s=n(8583),u=n(7396);const _=function(e){return["/products/",e]},l=function(e){return{"background-image":e}};function v(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"h5",5),t._uU(5),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"div",7),t._UZ(8,"div",7),t._UZ(9,"div",7),t._UZ(10,"div",7),t._UZ(11,"div",7),t.qZA(),t._uU(12),t.ALo(13,"currency"),t.qZA(),t.qZA(),t.TgZ(14,"div",8),t.TgZ(15,"div",4),t.TgZ(16,"button",9),t.NdJ("click",function(c){return t.CHM(r),t.oxw().addToCart(),c.stopPropagation()}),t._uU(17,"In Winkelwagen"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const r=t.oxw();t.Q6J("routerLink",t.VKq(7,_,r.product.id)),t.xp6(1),t.Q6J("ngStyle",t.VKq(9,l,"url("+r.getCoverImage(r.product)+")")),t.xp6(4),t.Oqu(r.product.name),t.xp6(7),t.hij(" ",t.xi3(13,4,r.product.price,"EUR")," ")}}let a=(()=>{class e{constructor(r){this._cartService=r}ngOnInit(){}getCoverImage(r){return r.images[0]?"storage/"+r.images[0]:"https://dummyimage.com/450x300/dee2e6/6c757d.jpg"}addToCart(){this.product&&this._cartService.update(this.product.id,1)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(d.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-card"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","card h-100",3,"routerLink",4,"ngIf"],[1,"card","h-100",3,"routerLink"],[1,"product-image",3,"ngStyle"],[1,"card-body","p-4"],[1,"text-center"],[1,"fw-bolder"],[1,"d-flex","justify-content-center","small","text-warning","mb-2"],[1,"bi-star-fill"],[1,"card-footer","p-4","pt-0","border-top-0","bg-transparent"],[1,"btn","btn-outline-dark","mt-auto",3,"click"]],template:function(r,i){1&r&&t.YNc(0,v,18,11,"div",0),2&r&&t.Q6J("ngIf",i.product)},directives:[s.O5,u.rH,s.PC],pipes:[s.H9],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;transition:border-color .2s ease}.card[_ngcontent-%COMP%]:hover{border-color:var(--bs-primary)}.product-image[_ngcontent-%COMP%]{padding-top:66.6%;background-size:cover;background-position:center}"]}),e})()}}]);